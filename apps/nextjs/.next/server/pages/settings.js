"use strict";(()=>{var e={};e.id=662,e.ids=[662,2888,660],e.modules={4806:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>h,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>u,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>N,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var a=t(8877),i=t(4591),l=t(6021),n=t(1938),o=t.n(n),c=t(4801),d=t(687),m=e([c,d]);[c,d]=m.then?(await m)():m;let x=(0,l.l)(d,"default"),p=(0,l.l)(d,"getStaticProps"),u=(0,l.l)(d,"getStaticPaths"),g=(0,l.l)(d,"getServerSideProps"),h=(0,l.l)(d,"config"),f=(0,l.l)(d,"reportWebVitals"),v=(0,l.l)(d,"unstable_getStaticProps"),j=(0,l.l)(d,"unstable_getStaticPaths"),w=(0,l.l)(d,"unstable_getStaticParams"),y=(0,l.l)(d,"unstable_getServerProps"),b=(0,l.l)(d,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/settings",pathname:"/settings",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});r()}catch(e){r(e)}})},9521:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{C:()=>Badge});var a=t(997);t(6689);var i=t(6926),l=t(8293),n=e([i,l]);[i,l]=n.then?(await n)():n;let o=(0,i.cva)("inline-flex items-center rounded-md border px-2.5 py-1.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring leading-4 focus:ring-offset-2 text-white border-transparent",{variants:{variant:{default:"bg-gray/800",secondary:"bg-secondary",success:"bg-success",warning:"bg-warning text-gray/800",error:"bg-error",inactive:"bg-gray_32"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,...t}){return a.jsx("div",{className:(0,l.cn)(o({variant:s}),e),...t})}r()}catch(e){r(e)}})},1257:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997),i=t(6689),l=t.n(i),n=t(4373),o=t(503),c=t(951),d=t(4271),m=t(857),x=t(261),p=t(2171),u=t(8293),g=t(9276),h=t(6391),f=t(1267),v=t(2428),j=t(8590),w=t(6068),y=t(1477),b=t(4429),N=e([d,u,g,h,f,v,j,w,y,b]);[d,u,g,h,f,v,j,w,y,b]=N.then?(await N)():N;let Shimmer=()=>a.jsx(a.Fragment,{children:Array.from({length:5}).map((e,s)=>a.jsx("div",{className:"flex h-9 items-center px-3",children:a.jsx(w.O,{className:"h-5 w-full"})},s))}),KpiInformationModal=({kpi:e})=>{let[s,t]=(0,i.useState)(!1),r=(0,o.useLocale)();return a.jsx(b.U,{triggerButton:a.jsx("i",{children:a.jsx(c.ocf,{className:"hover:scale-[1.1] hover:bg-transparent hover:text-secondary",size:20})}),open:s,setOpen:t,title:(0,m.i)(e.name,r),children:a.jsx("p",{className:"text-justify",children:(0,m.i)(e.description,r)})})},__WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,o.useTranslations)(),s=(0,o.useLocale)(),t=d.h.useContext(),[r,w]=(0,i.useState)(""),{data:b,isLoading:N}=d.h.settings.kpis.useQuery(),P=b?.userKpis.map(e=>e.id)??[],_=b?.kpisByCategory.filter(e=>e.kpis.some(e=>x.Ue(m.i(e.name,s)).includes(x.Ue(r)))).map(e=>({categoryKey:e.categoryKey,kpis:e.kpis.filter(e=>x.Ue(m.i(e.name,s)).includes(x.Ue(r)))})),{mutate:S}=d.h.settings.removeKpi.useMutation({onSuccess:async()=>(await t.settings.kpis.invalidate(),(0,p.Am)({title:e("selectHomePageKpis.removeKpiSuccess")})),onError:()=>(0,p.Am)({title:e("selectHomePageKpis.removeKpiError")})}),{mutate:E}=d.h.settings.addKpi.useMutation({onSuccess:async()=>(await t.settings.kpis.invalidate(),(0,p.Am)({title:e("selectHomePageKpis.addKpiSuccess")})),onError:()=>(0,p.Am)({title:e("selectHomePageKpis.addKpiError")})}),{mutate:z}=d.h.settings.reset.useMutation({onSuccess:async()=>(await t.settings.kpis.invalidate(),(0,p.Am)({title:e("selectHomePageKpis.resetKpisSuccess")})),onError:()=>(0,p.Am)({title:e("selectHomePageKpis.resetKpisError")})}),onRemoveClick=s=>P.length>1?S({kpiId:s}):(0,p.Am)({variant:"destructive",title:e("selectHomePageKpis.removeLastKpiError")}),onAddClick=e=>{(0,x.VL)(e,P)||E({kpiId:e})};return(0,a.jsxs)(h.Zb,{className:"flex h-full flex-col gap-3 p-4",children:[a.jsx("div",{className:"w-fit",children:a.jsx(f.Z,{className:"ml-1",children:e("selectHomePageKpis.title")})}),(0,a.jsxs)("div",{className:"flex h-[calc(100%_-_35px)] flex-col gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex w-full items-center gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(y.Z,{queryFilter:{filter:r,setFilter:w}})}),a.jsx(g.z,{variant:"outline",className:"h-10 gap-1 text-gray/500 hover:border-secondary hover:text-secondary ",onClick:()=>z(),children:a.jsx("p",{className:"text-xs font-medium",children:e("selectHomePageKpis.clear")})})]}),a.jsx(v.x,{className:"h-full rounded-md border border-gray_24 py-1",children:a.jsx("div",{className:"flex flex-col",children:N?a.jsx(Shimmer,{}):_?.map((t,r)=>a.jsxs(l().Fragment,{children:[a.jsx("div",{className:"px-3 py-2",children:a.jsx("p",{className:"font-semibold",children:e(`kpiCategory.${t.categoryKey}`)})}),t.kpis.map(e=>a.jsxs("div",{className:u.cn("flex h-9 items-center justify-between px-3 hover:cursor-pointer hover:bg-gray/200",e.enabled?"text-black":"text-gray/400"),onClick:()=>onAddClick(e.id),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-[18px]",children:x.VL(e.id,P)&&a.jsx(c.bzc,{size:16})}),a.jsx("p",{children:m.i(e.name,s)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[x.VL(e.id,P)&&a.jsx(g.z,{variant:"ghost",className:u.cn("p-0 transition-all hover:scale-[1.1] hover:bg-transparent hover:text-secondary",e.enabled?"text-black":"text-gray/400"),onClick:s=>{s.stopPropagation(),onRemoveClick(e.id)},children:a.jsx(n.Z,{size:16})}),a.jsx(KpiInformationModal,{kpi:e})]})]},e.id)),r!==_.length-1&&a.jsx(j.Z,{className:"border-dashed border-gray/300"})]},r))})})]})]})};r()}catch(e){r(e)}})},8776:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>u});var a=t(997),i=t(6689),l=t(6577),n=t.n(l),o=t(503),c=t(9911),d=t(7911),m=t(4830),x=e([d,m]);[d,m]=x.then?(await x)():x;let p=["jpeg","jpg","png","gif"],ImageUploader=({setFile:e,file:s,isEditing:t=!0})=>{let r=(0,o.useTranslations)(),[l,x]=(0,i.useState)(),[u,g]=(0,i.useState)(),getSizeInMb=e=>parseFloat((e/1048576).toFixed(2)),getFileExtension=e=>e.split(".").pop()?.toLowerCase()||"";return(0,a.jsxs)("div",{className:"flex h-full flex-col items-center",children:[(0,a.jsxs)("div",{className:`relative flex h-[110px] w-[110px] items-center justify-center rounded-full border border-dashed border-gray/400 transition-all ${l?"scale-[1.08]":"scale-100"}`,children:[t&&a.jsx("input",{type:"file",accept:".jpeg, .jpg, .png, .gif",className:"absolute h-full w-full cursor-pointer rounded-full opacity-0",onChange:s=>{if(s.target.files&&s.target.files[0]){let t=s.target.files[0];if(!p.includes(getFileExtension(t.name))||getSizeInMb(t.size)>3.1){let e="";p.includes(getFileExtension(t.name))||(e=r("errors.invalidFormat",{formats:"jpeg, jpg, png, gif"})),getSizeInMb(t.size)>3.1&&(e&&(e+="\n"),e+=r("errors.invalidSize",{size:"3.1 MB"})),g(e);return}e(t),g(void 0)}},onDragEnter:()=>x(!0),onDragLeave:()=>x(!1),onDrop:()=>x(!1)},s?"definedFile":"undefinedFile"),s?(0,a.jsxs)(a.Fragment,{children:[a.jsx(n(),{width:0,height:0,className:"h-[calc(100%_-_15px)] w-[calc(100%_-_15px)] rounded-full object-cover",alt:r("uploadImage.imageAlt"),src:URL.createObjectURL(s)}),t&&a.jsx(c.s5_,{size:25,className:"border-black_5 absolute right-3 top-3 cursor-pointer rounded-full border bg-white p-[3px]",onClick:()=>e(void 0)})]}):(0,a.jsxs)("div",{className:"bg-black_5 flex h-[136px] w-[136px] flex-col items-center justify-center rounded-full text-gray/400",children:[a.jsx(c.wa4,{size:25,className:""}),a.jsx("p",{className:"text-mid_grey mt-1 text-xs",children:r("uploadImage.uploadPhoto")})]})]}),(0,a.jsxs)("p",{className:"text-light_grey mb-2 mt-5 text-center text-xs text-gray/400",children:[r("uploadImage.allowedFormats")," ",a.jsx("br",{})," ",r("uploadImage.maxSize")]}),a.jsx(m.pn,{children:(0,a.jsxs)(m.u,{children:[a.jsx(m.aJ,{asChild:!0,children:a.jsx("div",{className:"max-h-10 overflow-y-auto lg:max-w-[180px]",children:a.jsx(d.Z,{className:"text-center",errorMessage:u})})}),a.jsx(m._v,{side:"top",children:u})]})})]})};ImageUploader.displayName="ImageUploader";let u=ImageUploader;r()}catch(e){r(e)}})},5986:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>d});var a=t(997),i=t(6689),l=t(7911),n=t(2863),o=e([l,n]);[l,n]=o.then?(await o)():o;let c=(0,i.forwardRef)(({className:e,error:s,...t},r)=>(0,a.jsxs)("div",{className:e,children:[a.jsx(n.Z,{ref:r,...t,className:"h-full"}),a.jsx(l.Z,{errorMessage:s})]}));c.displayName="TextInputWithError";let d=c;r()}catch(e){r(e)}})},1105:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997),i=t(6689),l=t(1656),n=t(503),o=t(5641),c=t(9926),d=t(4271),m=t(2171),x=t(9521),p=t(9276),u=t(6391),g=t(1267),h=t(2428),f=t(8590),v=t(6068),j=t(4429),w=t(3115),y=t(5986),b=e([l,o,c,d,x,p,u,g,h,f,v,j,w,y]);[l,o,c,d,x,p,u,g,h,f,v,j,w,y]=b.then?(await b)():b;let N=c.z.enum(["pendingInvitation","userInOtherOrganization","userInThisOrganization"]),DeleteUserModal=({userId:e})=>{let s=(0,n.useTranslations)(),t=d.h.useContext(),[r,l]=(0,i.useState)(!1),{mutate:o}=d.h.invitations.removeUserFromOrganization.useMutation({async onSuccess(){await t.invitations.getUsers.invalidate(),(0,m.Am)({title:s("usersList.deleteUserModal.success")})},onError(){(0,m.Am)({title:s("usersList.deleteUserModal.error")})}});return a.jsx(w.u,{triggerButton:a.jsx("button",{className:"text-sm text-gray/500",children:s("usersList.removeAccess")}),open:r,setOpen:l,title:s("usersList.deleteUserModal.title"),onConfirm:()=>o({userId:e}),size:"xsmall",children:a.jsx("p",{className:"my-5",children:s("usersList.deleteUserModal.description")})})},__WEBPACK_DEFAULT_EXPORT__=({userId:e})=>{let s=(0,n.useTranslations)(),t=d.h.useContext(),[r,w]=(0,i.useState)(!1),{data:b,isLoading:P}=d.h.invitations.getUsers.useQuery(),{mutate:_,isLoading:S}=d.h.invitations.inviteUser.useMutation({onError(e){let t=N.safeParse(e.message);if(t.success)return(0,m.Am)({variant:"destructive",title:s(`usersList.inviteError.${t.data}`)});(0,m.Am)({variant:"destructive",title:s("usersList.inviteError.genericError")})},async onSuccess(){await t.invitations.getUsers.invalidate(),(0,m.Am)({variant:"default",title:s("usersList.inviteSuccess")}),w(!1),L()}}),E=c.z.object({email:c.z.string().min(1,s("errors.required")).email(s("errors.invalid"))}),{register:z,handleSubmit:U,formState:{errors:A},reset:L}=(0,o.useForm)({resolver:(0,l.zodResolver)(E)});return(0,a.jsxs)(u.Zb,{className:"flex h-full flex-col gap-2 p-4",children:[a.jsx(g.Z,{children:s("usersList.title")}),a.jsx("div",{className:"h-[calc(100%_-_80px)] rounded-md bg-gray/200 py-2 pl-4 pr-2",children:(0,a.jsxs)(h.x,{className:"h-full",children:[a.jsx("div",{className:"flex flex-col gap-2",children:P?Array.from({length:8}).map((e,s)=>a.jsx(v.O,{className:"h-5 w-full bg-white"},s)):b?.map(e=>a.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap text-sm",children:[e.firstName&&`${e.firstName} ${e.lastName??""}`,a.jsxs("span",{className:"text-xs text-gray/500",children:[" ",e.email]})]},e.id))}),a.jsx(h.B,{orientation:"horizontal"})]})}),(0,a.jsxs)(j.U,{title:s("usersList.invite"),open:r,setOpen:w,triggerButton:a.jsx(p.z,{className:"w-full",children:s("usersList.editAccesses")}),children:[(0,a.jsxs)("div",{className:"mb-7 mt-3 flex flex-col gap-4",children:[a.jsx("div",{children:a.jsx("p",{className:"text-sm",children:s("usersList.inviteDescription")})}),(0,a.jsxs)("form",{className:"flex w-full items-center gap-3",onSubmit:U(({email:e})=>{_({email:e})}),children:[a.jsx("div",{className:"flex-1",children:a.jsx(y.Z,{error:A.email?.message,...z("email"),type:"email",className:"h-10 rounded-md border border-gray_24 placeholder:text-cancel"})}),a.jsx(p.z,{type:"submit",className:"h-10",loading:S,children:s("usersList.send")})]})]}),a.jsx(f.Z,{className:"-mx-4 border-dashed border-gray/300"}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col gap-4",children:[a.jsx("p",{className:"text-sm font-semibold",children:s("usersList.accesses")}),a.jsx("div",{className:"h-[calc(100vh-500px)] rounded-md bg-gray/200 py-2 pl-4 pr-2",children:a.jsx(h.x,{className:"h-full",children:a.jsx("div",{className:"flex flex-col gap-2",children:b?.map(t=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap text-sm",children:[t.firstName&&`${t.firstName} ${t.lastName??""}`,a.jsxs("span",{className:"text-xs text-gray/500",children:[" ",t.email]}),t.pendingInvite&&a.jsx(x.C,{variant:"inactive",className:"px-2 py-0 text-gray/500",children:s("usersList.status.pending")})]}),t.id!==e&&a.jsx(DeleteUserModal,{userId:t.id})]},t.id))})})})]})]})]})};r()}catch(e){r(e)}})},8213:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997),i=t(6689),l=t(1656),n=t(503),o=t(5641),c=t(9926),d=t(4271),m=t(4631),x=t(2171),p=t(9276),u=t(3115),g=t(5986),h=e([l,o,c,d,p,u,g]);[l,o,c,d,p,u,g]=h.then?(await h)():h;let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,n.useTranslations)(),[s,t]=(0,i.useState)(!1),{mutate:r,isLoading:h}=d.h.auth.resetPassword.useMutation({onSuccess:()=>(w(),t(!1),(0,x.Am)({variant:"default",title:e("settings.changePassword.success")})),onError:s=>{s.message===m.CV?y("currentPassword",{type:"manual",message:e("errors.incorrectPassword")}):(0,x.Am)({variant:"destructive",title:e("errors.somethingWentWrong")})}}),{handleSubmit:f,register:v,formState:{errors:j},reset:w,setError:y}=(0,o.useForm)({mode:"onSubmit",resolver:(0,l.zodResolver)(c.z.object({currentPassword:c.z.string().min(1,e("errors.required")).min(8,e("errors.min",{min:"8",name:e("settings.changePassword.password")})),newPassword:c.z.string().min(1,e("errors.required")).min(8,e("errors.min",{min:"8",name:e("settings.changePassword.password")})),confirmPassword:c.z.string().min(1,e("errors.required")).min(8,e("errors.min",{min:"8",name:e("settings.changePassword.confirmPassword")}))}).refine(e=>e.newPassword===e.confirmPassword,{message:e("errors.passwordMatchError"),path:["confirmPassword"]}))}),handlePasswordSubmit=({currentPassword:e,newPassword:s})=>{r({currentPassword:e,newPassword:s})};return a.jsx(u.u,{confirmButtonText:e("settings.changePassword.submit"),cancelButtonText:e("text.cancel"),withCloseButton:!0,size:"small",triggerButton:a.jsx(p.z,{variant:"outline",className:"h-10 w-[200px]",children:e("settings.personalInformation.changePassword")}),onConfirm:()=>f(handlePasswordSubmit)(),onCancel:()=>w(),title:e("settings.changePassword.submit"),hasError:Object.keys(j).length>0,loading:h,open:s,setOpen:t,children:(0,a.jsxs)("div",{className:"mt-4 flex flex-col gap-6 px-6",children:[a.jsx("p",{className:"font-semibold",children:e("settings.changePassword.subtitle")}),(0,a.jsxs)("form",{className:"flex flex-col gap-y-1",children:[a.jsx(g.Z,{type:"password",withLabelText:e("settings.changePassword.currentPassword"),variant:"gray",autoComplete:"current-password",...v("currentPassword"),error:j.currentPassword?.message}),a.jsx(g.Z,{type:"password",withLabelText:e("auth.confirmAccount.password"),variant:"gray",autoComplete:"new-password",...v("newPassword"),error:j.newPassword?.message}),a.jsx(g.Z,{type:"password",withLabelText:e("auth.confirmAccount.confirmPassword"),variant:"gray",autoComplete:"new-password",...v("confirmPassword"),error:j.confirmPassword?.message})]})]})})};r()}catch(e){r(e)}})},1851:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997),i=t(6689),l=t(1656),n=t(1649),o=t(503),c=t(5641),d=t(9926),m=t(4271),x=t(8109),p=t(6391),u=t(2171),g=t(9276),h=t(1267),f=t(2863),v=t(8776),j=t(5986),w=t(8213),y=e([l,c,d,m,x,p,g,h,f,v,j,w]);[l,c,d,m,x,p,g,h,f,v,j,w]=y.then?(await y)():y;let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,o.useTranslations)(),{data:s,update:t}=(0,n.useSession)(),[r,y]=(0,i.useState)(!1),[b,N]=(0,i.useState)(),P=d.z.object({profilePictureUrl:d.z.object({name:d.z.string(),data:d.z.string()}).nullable().optional(),firstName:d.z.string().min(1,e("errors.required")).nullable(),lastName:d.z.string().min(1,e("errors.required")).nullable(),email:d.z.string().email()}),{handleSubmit:_,register:S,formState:{errors:E},reset:z}=(0,c.useForm)({mode:"onSubmit",resolver:(0,l.zodResolver)(P)});(0,i.useEffect)(()=>{if(s?.user.profilePictureUrl){let execute=async e=>{let s=await (0,x.u)(e);N(s)};execute(s?.user.profilePictureUrl)}},[s?.user.profilePictureUrl]),(0,i.useEffect)(()=>{s?.user&&z({firstName:s.user.firstName,lastName:s.user.lastName,email:s.user.email})},[s,z]);let{mutate:U,isLoading:A}=m.h.settings.editProfile.useMutation({onSuccess:async r=>((0,u.Am)({variant:"default",title:e("settings.personalInformation.confirmedUpdate")}),await t({...s?.user,name:r.firstName,lastName:r.lastName,profilePictureUrl:r.profilePictureUrl})),onError:()=>(0,u.Am)({variant:"destructive",title:e("settings.personalInformation.errorUpdatingProfile")})}),handleProfileSubmit=async e=>{U({...e,profilePictureUrl:b?{name:b.name,data:await (0,x.sT)(b)}:null}),z(),y(!1)};return a.jsx("div",{className:"mt-4 flex flex-col gap-3",children:(0,a.jsxs)(p.Zb,{className:"w-full p-4 py-3",children:[a.jsx(h.Z,{children:e("settings.personalInformation.title")}),(0,a.jsxs)("div",{className:"mt-4 flex h-fit flex-col items-center justify-between lg:flex-row lg:gap-x-8 lg:px-16",children:[a.jsx(v.Z,{file:b,setFile:N,isEditing:r}),(0,a.jsxs)("div",{className:"w-full lg:w-[75%]",children:[a.jsx("form",{children:(0,a.jsxs)("div",{className:"mb-2 grid w-full grid-cols-2 gap-x-4",children:[a.jsx(j.Z,{type:"text",withLabelText:e("settings.personalInformation.firstName"),variant:"gray",...S("firstName"),disabled:!r,error:E.firstName?.message}),a.jsx(j.Z,{type:"text",withLabelText:e("settings.personalInformation.lastName"),variant:"gray",...S("lastName"),disabled:!r,error:E.lastName?.message}),a.jsx(f.Z,{type:"text",withLabelText:e("settings.personalInformation.email"),variant:"gray",disabled:!0,...S("email")})]})}),r?(0,a.jsxs)("div",{className:"flex w-full justify-between",children:[a.jsx(w.Z,{}),(0,a.jsxs)("div",{className:"flex w-full justify-end gap-4",children:[a.jsx(g.z,{variant:"outline",className:"h-10",onClick:()=>y(!1),children:e("text.cancel")}),a.jsx(g.z,{type:"submit",className:"h-10 w-[150px]",loading:A,onClick:()=>_(handleProfileSubmit)(),children:e("settings.personalInformation.saveChanges")})]})]}):a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(g.z,{className:"h-10 w-[150px]",onClick:()=>y(!0),loading:A,children:e("settings.personalInformation.editInformation")})})]})]})]})})};r()}catch(e){r(e)}})},687:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>u,getServerSideProps:()=>getServerSideProps});var a=t(997);t(6689);var i=t(8521),l=t(2948),n=t(1257),o=t(1105),c=t(1851),d=t(6697),m=t(5462),x=t(2836),p=e([n,o,c,d,m,x]);[n,o,c,d,m,x]=p.then?(await p)():p;let SettingsPage=({userId:e})=>(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[a.jsx(c.Z,{}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row",children:[a.jsx("div",{className:"h-[300px] w-full lg:h-[calc(100vh_-_435px)] lg:w-[35%] xl:w-[26%]",children:a.jsx(o.Z,{userId:e})}),a.jsx("div",{className:"h-[500px] w-full lg:h-[calc(100vh_-_435px)] lg:w-[75%] xl:w-[74%]",children:a.jsx(n.Z,{})})]})]});SettingsPage.getLayout=e=>a.jsx(d.Z,{titleKey:"personalSettings",children:e});let getServerSideProps=async e=>{let{locale:s,req:t,res:r}=e,a=await (0,m.W)({req:t,res:r}),n=await (0,x.x)(e);return(await n.invitations.getUsers.prefetch(),await n.settings.kpis.prefetch(),a)?{props:{trpcState:n.dehydrate(),userId:a.user.id,messages:await (0,l.E)(s)}}:{redirect:{destination:i.H4}}},u=SettingsPage;r()}catch(e){r(e)}})},8109:(e,s,t)=>{t.a(e,async(e,r)=>{try{t.d(s,{_z:()=>imageUrlFromKey,sT:()=>fileToBase64,u:()=>imageUrlToFile});var a=t(5803),i=e([a]);a=(i.then?(await i)():i)[0];let fileToBase64=e=>new Promise((s,t)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>s(r.result),r.onerror=e=>t(e)}),imageUrlToFile=async e=>{let s=await fetch(e,{cache:"no-cache"}),t=await s.blob(),r=new File([t],e);return r},imageUrlFromKey=e=>e?`${a.O.NEXT_PUBLIC_IMAGE_BUCKET_BASE_URL}/${e}`:null;r()}catch(e){r(e)}})},1841:e=>{e.exports=require("@aws-sdk/client-s3")},4298:e=>{e.exports=require("@aws-sdk/client-ses")},3303:e=>{e.exports=require("@paralleldrive/cuid2")},3524:e=>{e.exports=require("@prisma/client")},7620:e=>{e.exports=require("@radix-ui/react-avatar")},3363:e=>{e.exports=require("@radix-ui/react-dialog")},8532:e=>{e.exports=require("@radix-ui/react-dropdown-menu")},4752:e=>{e.exports=require("@radix-ui/react-popover")},4034:e=>{e.exports=require("@radix-ui/react-select")},2479:e=>{e.exports=require("@radix-ui/react-toast")},8432:e=>{e.exports=require("bcryptjs")},8103:e=>{e.exports=require("clsx")},4384:e=>{e.exports=require("date-fns/format")},9344:e=>{e.exports=require("jsonwebtoken")},3227:e=>{e.exports=require("next-auth")},7449:e=>{e.exports=require("next-auth/providers/credentials")},1649:e=>{e.exports=require("next-auth/react")},503:e=>{e.exports=require("next-intl")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},5184:e=>{e.exports=require("nodemailer")},6689:e=>{e.exports=require("react")},8261:e=>{e.exports=require("react-day-picker")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},72:e=>{e.exports=require("superjson")},1656:e=>{e.exports=import("@hookform/resolvers/zod")},7412:e=>{e.exports=import("@radix-ui/react-accordion")},49:e=>{e.exports=import("@radix-ui/react-label")},307:e=>{e.exports=import("@radix-ui/react-scroll-area")},6704:e=>{e.exports=import("@radix-ui/react-tooltip")},7717:e=>{e.exports=import("@react-email/components")},846:e=>{e.exports=import("@react-email/font")},4116:e=>{e.exports=import("@react-email/head")},8816:e=>{e.exports=import("@react-email/render")},3594:e=>{e.exports=import("@t3-oss/env-core")},6206:e=>{e.exports=import("@t3-oss/env-nextjs")},272:e=>{e.exports=import("@trpc/client")},7455:e=>{e.exports=import("@trpc/next")},5468:e=>{e.exports=import("@trpc/react-query/server")},2937:e=>{e.exports=import("@trpc/server")},6926:e=>{e.exports=import("class-variance-authority")},5641:e=>{e.exports=import("react-hook-form")},8097:e=>{e.exports=import("tailwind-merge")},9926:e=>{e.exports=import("zod")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[1938,8724,7457,5632,5487,9244,6983,8746,8629,4801,2876,1172,3833,2836,2863,6391,4429,4830,1477],()=>__webpack_exec__(4806));module.exports=t})();