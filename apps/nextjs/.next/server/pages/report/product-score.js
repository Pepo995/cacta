"use strict";(()=>{var e={};e.id=6536,e.ids=[6536,2888,660],e.modules={7277:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(6626);let r=(0,s.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},5120:(e,t,l)=>{l.d(t,{Z:()=>r});var s=l(6626);let r=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9046:(e,t,l)=>{l.a(e,async(e,s)=>{try{l.r(t),l.d(t,{config:()=>y,default:()=>p,getServerSideProps:()=>u,getStaticPaths:()=>h,getStaticProps:()=>m,reportWebVitals:()=>f,routeModule:()=>b,unstable_getServerProps:()=>T,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>g});var r=l(8877),i=l(4591),a=l(6021),n=l(1938),o=l.n(n),c=l(4801),d=l(1711),x=e([c,d]);[c,d]=x.then?(await x)():x;let p=(0,a.l)(d,"default"),m=(0,a.l)(d,"getStaticProps"),h=(0,a.l)(d,"getStaticPaths"),u=(0,a.l)(d,"getServerSideProps"),y=(0,a.l)(d,"config"),f=(0,a.l)(d,"reportWebVitals"),g=(0,a.l)(d,"unstable_getStaticProps"),j=(0,a.l)(d,"unstable_getStaticPaths"),w=(0,a.l)(d,"unstable_getStaticParams"),T=(0,a.l)(d,"unstable_getServerProps"),P=(0,a.l)(d,"unstable_getServerSideProps"),b=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/report/product-score",pathname:"/report/product-score",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});s()}catch(e){s(e)}})},4235:(e,t,l)=>{l.d(t,{DM:()=>c,ZP:()=>molecules_ScorecardDocument,W2:()=>d});var s=l(997),r=l(3260);let ScorecardDocument_AdditionalInformationPage=({productCampaignsToShow:e})=>{let BulletPointSpan=({textPartBold:e,textPart:t})=>(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row"},children:[s.jsx(r.Text,{style:{marginHorizontal:8,alignSelf:"flex-start"},children:"•"}),(0,s.jsxs)(r.Text,{style:{...d.smallTextBold,marginTop:5},children:[e,"  ",s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:t})]})]});return(0,s.jsxs)(r.Page,{style:d.page,children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column",gap:35},children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column"},children:[s.jsx(r.Text,{style:d.smallTextBold,children:"Informaci\xf3n adicional:"}),(0,s.jsxs)(r.View,{children:[s.jsx(BulletPointSpan,{textPartBold:"Cut-off:",textPart:"Se desprecian las actividades que representan menos de 1% del impacto ambiental final."}),s.jsx(BulletPointSpan,{textPartBold:"Allocation o reglas de asignaci\xf3n:",textPart:"Se adopta como regla general la asignaci\xf3n por subdivisi\xf3n (ISO 14040/44). En los casos que sea imposible se adopta la asignaci\xf3n por masa."}),s.jsx(BulletPointSpan,{textPartBold:"Calidad de la informaci\xf3n:",textPart:"La informaci\xf3n principal utilizada ha sido tomada directamente del sistema de gesti\xf3n, cumpliendo con la normativa ISO 14040/44. Adicionalmente se realiza el an\xe1lisis de calidad de informaci\xf3n seg\xfan WFLDB, presentado en el informe de sustentabilidad organizacional. Los c\xe1lculos adicionales acerca de las emisiones contempladas est\xe1n descriptos en la documentaci\xf3n general de la herramienta, cumpliendo con el WFLDB v3.5 y el PCR correspondiente."})]})]}),(0,s.jsxs)(r.View,{style:d.sectionContainer,children:[s.jsx(r.Text,{style:d.sectionTitle,children:"Declaraci\xf3n de contenido:"}),s.jsx(r.Text,{style:d.smallTextBold,children:"Producto"}),(0,s.jsxs)(r.View,{style:{width:"100%"},children:[(0,s.jsxs)(r.View,{style:d.tableHeader,children:[s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Materiales / sustancias qu\xedmicas"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Kg"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"%"})}),s.jsx(r.View,{style:d.lastCell,children:s.jsx(r.Text,{children:"Propiedades peligrosas"})})]}),(0,s.jsxs)(r.View,{style:{...d.row,borderBottom:1,borderBottomColor:c.black},children:[s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:e.productInSpanish})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"1.00"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"100"})}),s.jsx(r.View,{style:d.lastCell,children:s.jsx(r.Text,{children:"-"})})]})]})]}),(0,s.jsxs)(r.View,{style:d.spanContainer,children:[s.jsx(r.Text,{style:d.smallTextBold,children:"Empaquetado:"}),s.jsx(r.Text,{style:d.smallText,break:!0,children:"Sin empaquetar"})]})]}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"flex-end",width:80,height:60}})]})};var i=l(4384),a=l.n(i);let ScorecardDocument_CoverPage=({productCampaignsToShow:e,organization:t})=>{let l=a()(new Date,"dd/LL/yyyy"),i=t?.imageUrl;return(0,s.jsxs)(r.Page,{size:"A4",style:d.page,children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column"},children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(r.View,{style:d.header,fixed:!0,children:[s.jsx(r.Text,{style:d.title,children:"TARJETA AMBIENTAL DE PRODUCTO"}),s.jsx(r.Text,{style:d.smallText,children:"En cumplimiento con ISO 14025"})]}),i&&s.jsx(r.Image,{source:i,style:{width:100}})]}),(0,s.jsxs)(r.View,{style:d.firstPageContainer,children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:"6px"},children:[s.jsx(r.Text,{style:{fontFamily:"Poppins"},children:"Producto:"}),s.jsx(r.Text,{style:{fontFamily:"PoppinsBold"},children:e.productInSpanish})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:"6px"},children:[s.jsx(r.Text,{style:{fontFamily:"Poppins"},children:"Organizaci\xf3n:"}),s.jsx(r.Text,{style:{fontFamily:"PoppinsBold"},children:t?.name})]}),(0,s.jsxs)(r.View,{style:{marginTop:20,display:"flex",flexDirection:"column",gap:"10px"},children:[(0,s.jsxs)(r.Text,{style:d.smallText,children:["Id de Proyecto: ",e.projectId]}),(0,s.jsxs)(r.Text,{style:d.smallText,children:["Fecha de generaci\xf3n: ",l]}),s.jsx(r.View,{style:d.imageContainer,children:s.jsx(r.Image,{source:"/images/pdf/field.jpg",style:{width:500,height:400}})})]})]})]}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"center",width:100,height:80}})]})};var n=l(857),o=l(261);let ScorecardDocument_EnvironmentalPerformancePage=({activityData:e})=>{let t=0,l=e.activityInputs.reduce((e,t)=>e+t.kpis.length,0);return(0,s.jsxs)(r.Page,{style:d.page,children:[s.jsx(r.View,{style:{display:"flex",flexDirection:"column",gap:35},children:(0,s.jsxs)(r.View,{style:d.sectionContainer,children:[s.jsx(r.Text,{style:d.sectionTitle,children:"Performance ambiental:"}),s.jsx(r.Text,{style:d.smallText,children:"Los resultados mostrados est\xe1n referidos a la unidad funcional declarada."}),(0,s.jsxs)(r.View,{style:{width:"100%"},children:[(0,s.jsxs)(r.View,{style:d.tableHeader,children:[s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Par\xe1metro"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Unidad"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Upstream"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Core"})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"Downstream"})}),s.jsx(r.View,{style:d.lastCell,children:s.jsx(r.Text,{children:"Total"})})]}),e.activityInputs.map(({kpis:e})=>e.map(({kpiName:e,totals:i,unit:a},x)=>(t++,(0,s.jsxs)(r.View,{style:t===l?{...d.row,borderBottom:1,borderBottomColor:c.black}:d.row,children:[s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:(0,n.i)(e,"es")})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:(0,o.VV)(a)})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:i.upstream})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:i.core})}),s.jsx(r.View,{style:d.cell,children:s.jsx(r.Text,{children:"MND"})}),s.jsx(r.View,{style:d.lastCell,children:s.jsx(r.Text,{children:i.totalValue})})]},x)))),s.jsx(r.Text,{style:(d.smallText,{fontSize:9}),children:"MND: M\xf3dulo no declarado"})]})]})}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"flex-end",width:80,height:60}})]})},ScorecardDocument_ProductInformationPage=({productCampaignsToShow:e,organization:t})=>{let BulletPoint=({bullet:e,children:t,textParts:l})=>(0,s.jsxs)(r.View,{style:{flexDirection:"row",alignItems:"center"},children:[s.jsx(r.Text,{style:{marginHorizontal:8},children:e}),t?s.jsx(r.Text,{style:d.smallText,children:t}):s.jsx(r.View,{style:d.spanContainer,children:l?.map((e,t)=>s.jsx(r.Text,{style:e.style,children:e.text},t))})]}),formatDate=e=>a()(e,"dd/LL/yy");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Page,{size:"A4",style:d.page,children:[(0,s.jsxs)(r.View,{style:d.sectionContainer,fixed:!0,children:[s.jsx(r.Text,{style:d.sectionTitle,children:"Informaci\xf3n de producto:"}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,s.jsxs)(r.View,{style:d.spanContainer,children:[s.jsx(r.Text,{style:d.smallTextBold,children:"Nombre de producto:"}),s.jsx(r.Text,{style:d.smallText,children:e.productInSpanish})]}),(0,s.jsxs)(r.View,{style:d.spanContainer,children:[s.jsx(r.Text,{style:d.smallTextBold,children:"Clasificaci\xf3n UN CPC:"}),(0,s.jsxs)(r.Text,{style:d.smallText,children:[e.productCpcId," - ",e.productCpcName]})]}),(0,s.jsxs)(r.View,{style:d.spanContainer,children:[s.jsx(r.Text,{style:d.smallTextBold,children:"Ubicaci\xf3n geogr\xe1fica:"}),s.jsx(r.Text,{style:d.smallText,children:t?.country})]})]})]}),(0,s.jsxs)(r.View,{style:d.sectionContainer,fixed:!0,children:[s.jsx(r.Text,{style:d.sectionTitle,children:"Informaci\xf3n del An\xe1lisis de Ciclo de Vida (ACV):"}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column",gap:4},children:[(0,s.jsxs)(r.Text,{style:d.smallTextBold,children:["Unidad funcional / declarada:","  ",s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:"1.00 kg en estado fresco."})]}),(0,s.jsxs)(r.Text,{style:d.smallTextBold,children:["Vida \xfatil de referencia:","  ",s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:"No aplicable."})]}),(0,s.jsxs)(r.Text,{style:d.smallTextBold,children:["Cobertura temporal:","  ",(0,s.jsxs)(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:[formatDate(e.startDate)," hasta"," ",e.endDate?formatDate(e.endDate):""]})]}),(0,s.jsxs)(r.Text,{style:d.smallTextBold,children:["Bases de datos y software utilizado:","  ",s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:"La informaci\xf3n secundaria utilizada en el modelo de c\xe1lculo fue obtenida de Ecoinvent v3.9, implementada en el software Cacta Agro."})]}),(0,s.jsxs)(r.Text,{style:d.smallTextBold,children:["L\xedmites del sistema:","  ",s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:"“De la cuna hasta la tranquera”."})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column",paddingHorizontal:"48px"},children:[s.jsx(r.Image,{source:"/images/pdf/SystemBoundary.jpg",style:{width:400,height:280,marginTop:"15px"}}),s.jsx(r.Text,{style:{fontSize:8},break:!0,children:"Figura 1: Esquema de los l\xedmites del sistema considerados"})]})]})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column"},children:[s.jsx(r.View,{style:d.line}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:2},children:[s.jsx(r.Text,{style:{fontSize:6},children:"1"}),s.jsx(r.Text,{style:{fontSize:8},children:"PCR 2020:07, Arable Vegetables and Crops. PCR 2019:01, Fruits and Nuts."})]})]}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"flex-end",width:80,height:60}})]})]}),(0,s.jsxs)(r.Page,{size:"A4",style:d.page,children:[(0,s.jsxs)(r.View,{style:d.sectionContainer,fixed:!0,children:[s.jsx(r.View,{style:{display:"flex",flexDirection:"column",gap:4},children:s.jsx(r.Text,{style:{...d.smallText,fontFamily:"Poppins"},break:!0,children:"El presente an\xe1lisis cubre desde la extracci\xf3n de materias primas hasta el producto cosechado. Los c\xe1lculos han seguido la metodolog\xeda de ACV, en particular lo dispuesto por el WFLDB v3.5. De acuerdo a las reglas de c\xe1lculo PCR se distinguen las siguientes fases:"})}),(0,s.jsxs)(r.View,{style:{width:400,paddingLeft:"15px"},children:[(0,s.jsxs)(r.View,{style:{flexDirection:"column"},children:[s.jsx(BulletPoint,{textParts:[{text:"Upstream",style:d.smallTextBold},{text:"o aguas arriba, incluye:",style:d.smallText}],bullet:"•"}),(0,s.jsxs)(r.View,{style:{width:400,paddingLeft:"15px"},children:[s.jsx(BulletPoint,{bullet:"—",children:"Producci\xf3n de fertilizantes, agroqu\xedmicos y semillas"}),s.jsx(BulletPoint,{bullet:"—",children:"Producci\xf3n de otros insumos (combustibles, repuestos, etc.)"})]})]}),(0,s.jsxs)(r.View,{style:{flexDirection:"column"},children:[s.jsx(BulletPoint,{textParts:[{text:"Core",style:d.smallTextBold},{text:"o actividades en campo, incluye:",style:d.smallText}],bullet:"•"}),(0,s.jsxs)(r.View,{style:{width:400,paddingLeft:"15px"},children:[s.jsx(BulletPoint,{bullet:"—",children:"Uso de agua"}),s.jsx(BulletPoint,{bullet:"—",children:"Transporte de insumos hacia el campo"}),s.jsx(BulletPoint,{bullet:"—",children:"Impacto debido al uso de electricidad"}),s.jsx(BulletPoint,{bullet:"—",children:"Emisiones directas del uso de combustibles"}),s.jsx(BulletPoint,{bullet:"—",children:"Emisiones directas por el uso de fertilizantes y agroqu\xedmicos"}),s.jsx(BulletPoint,{bullet:"—",children:"Actividades en el campo (siembra, pulverizaciones, cosecha)"})]})]}),(0,s.jsxs)(r.View,{style:{flexDirection:"column"},children:[s.jsx(BulletPoint,{textParts:[{text:"Downstream",style:d.smallTextBold},{text:"o aguas abajo:",style:d.smallText}],bullet:"•"}),s.jsx(r.View,{style:{flexDirection:"column",width:400,paddingLeft:"15px"},children:s.jsx(BulletPoint,{bullet:"—",children:"No consideradas en el presente an\xe1lisis"})})]})]}),s.jsx(r.Text,{style:d.smallText,children:"No se consideran en el presente an\xe1lisis la infraestructura o producci\xf3n de maquinaria agr\xedcola."})]}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"flex-end",width:80,height:60}})]})]})},ScorecardDocument_ReferencePage=()=>(0,s.jsxs)(r.Page,{style:d.page,children:[(0,s.jsxs)(r.View,{style:d.sectionContainer,children:[s.jsx(r.Text,{style:d.sectionTitle,children:"Referencias:"}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"column",gap:20},children:[(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:30},children:[s.jsx(r.Text,{style:{...d.smallTextBold,width:"50%"},children:"PCR: Arable and Vegetable Crops"}),(0,s.jsxs)(r.Text,{style:{...d.smallText,width:"50%"},children:["PCR 2020:07 Arable And Vegetable Crops (Version1.0) 2020/07,"," ",s.jsx(r.Link,{src:"www.environdec.com",style:{fontSize:11},children:"www.environdec.com"})]})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:30},children:[s.jsx(r.Text,{style:{...d.smallTextBold,width:"50%"},children:"ISO 14040/44"}),s.jsx(r.Text,{style:{...d.smallText,width:"50%"},children:"Environmental management – Life cycle assessment principles and framework (ISO 14040:2006) and Requirements and guidelines (ISO 14044:2006)"})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:30},children:[s.jsx(r.Text,{style:{...d.smallTextBold,width:"50%"},children:"ISO 14025:2006"}),s.jsx(r.Text,{style:{...d.smallText,width:"50%"},children:"Environmental labels and declarations – Type III Environmental declarations – Principles and procedures"})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:30},children:[s.jsx(r.Text,{style:{...d.smallTextBold,width:"50%"},children:"Ecoinvent (v3.9)"}),(0,s.jsxs)(r.Text,{style:{...d.smallText,width:"50%"},children:["Ecoinvent Centre,"," ",s.jsx(r.Link,{src:"www.ecoinvent.org",style:{fontSize:11},children:"www.ecoinvent.org"})]})]}),(0,s.jsxs)(r.View,{style:{display:"flex",flexDirection:"row",gap:30},children:[s.jsx(r.Text,{style:{...d.smallTextBold,width:"50%"},children:"WFLDB (v3.5)"}),s.jsx(r.Text,{style:{...d.smallText,width:"50%"},children:"World Food LCA Database; www.quantis-intl.com/metrics/databases/wfldb-food"})]})]})]}),s.jsx(r.Image,{source:"/images/pdf/cacta-logo.png",style:{alignSelf:"flex-end",width:80,height:60}})]}),c={black:"#000000",lightGreen:"#3bc9a3",white:"#ffffff",gray:"gray/500",secondary:"#8E33FF"};r.Font.register({family:"Poppins",src:"https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrFJDUc1NECPY.ttf"}),r.Font.register({family:"PoppinsBold",src:"https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6V1tvFP-KUEg.ttf"});let d=r.StyleSheet.create({page:{paddingTop:50,paddingBottom:30,paddingHorizontal:50,fontFamily:"Poppins",display:"flex",flexDirection:"column",justifyContent:"space-between"},title:{fontFamily:"PoppinsBold",color:c.secondary},header:{display:"flex",flexDirection:"column"},smallText:{fontSize:11,display:"flex",flexDirection:"row",flexWrap:"wrap"},smallTextBold:{fontSize:11,fontFamily:"PoppinsBold"},firstPageContainer:{display:"flex",flexDirection:"column",gap:2,marginTop:"10px",alignItems:"flex-start"},imageContainer:{display:"flex",flexDirection:"column",gap:20,alignItems:"flex-start"},sectionTitle:{fontSize:16,fontFamily:"PoppinsBold",color:c.secondary},spanContainer:{display:"flex",flexDirection:"row",gap:"8px"},line:{borderBottomColor:c.gray,width:"100px",borderBottomWidth:"0.4px",marginBottom:10,marginTop:10},sectionContainer:{display:"flex",flexDirection:"column",gap:8},tableHeader:{display:"flex",fontFamily:"PoppinsBold",flexDirection:"row",justifyContent:"space-between",fontSize:10,color:c.black,borderTop:1,borderTopColor:c.black,borderRight:1,borderRightColor:c.black,borderLeft:1,borderLeftColor:c.black},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:14,borderTop:1,borderTopColor:c.black,borderLeft:1,borderLeftColor:c.black,borderRight:1,borderRightColor:c.black},cell:{width:"50%",textAlign:"center",fontSize:10,borderRight:1,borderRightColor:c.black,height:"100%"},lastCell:{width:"50%",textAlign:"center",fontSize:10}}),molecules_ScorecardDocument=({productCampaignsToShow:e,activityData:t})=>s.jsx(r.Document,{children:e&&t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(ScorecardDocument_CoverPage,{organization:t.organization,productCampaignsToShow:e}),s.jsx(ScorecardDocument_ProductInformationPage,{productCampaignsToShow:e,organization:t.organization}),s.jsx(ScorecardDocument_AdditionalInformationPage,{productCampaignsToShow:e}),s.jsx(ScorecardDocument_EnvironmentalPerformancePage,{activityData:t}),s.jsx(ScorecardDocument_ReferencePage,{})]}):s.jsx(r.Page,{size:"A4",style:d.page,children:s.jsx(r.View,{style:{display:"flex",flexDirection:"column"},children:s.jsx(r.Text,{children:"Error: no se obtuvo informaci\xf3n para agregar al PDF."})})})})},40:(e,t,l)=>{l.a(e,async(e,s)=>{try{l.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=l(997),i=l(6689),a=l(4384),n=l.n(a),o=l(5120),c=l(503),d=l(4271),x=l(857),p=l(8293),m=l(9276),h=l(6068),u=l(4151),y=l(4429),f=e([d,p,m,h,u,y]);[d,p,m,h,u,y]=f.then?(await f)():f;let BodyShimmer=()=>(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[r.jsx(h.O,{className:"h-12 px-3 py-2"}),(0,r.jsxs)("div",{className:"mb-2 flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx(h.O,{className:"h-8 w-full"}),r.jsx("div",{className:"flex flex-col gap-1",children:r.jsx(h.O,{className:"h-10 w-full"})})]}),r.jsx(h.O,{className:"h-8 w-full"}),r.jsx(h.O,{className:"h-8 w-full"}),r.jsx(h.O,{className:"h-8 w-full"})]})]}),__WEBPACK_DEFAULT_EXPORT__=({productId:e,organizationCampaignId:t,productName:l,startDate:s,endDate:a})=>{let h=(0,c.useTranslations)(),[f,g]=(0,i.useState)(!1),{isLoading:j,data:w}=d.h.report.getActivityInputsByProduct.useQuery({productId:e,organizationCampaignId:t},{enabled:f}),T=(0,c.useLocale)(),formatDate=e=>n()(e,"dd/LL/yy"),P=(w??[])[0]?.categoryName,b=j||!w;return r.jsx(y.U,{loading:b,triggerButton:r.jsx(m.z,{variant:"ghost",children:r.jsx(o.Z,{className:"text-slate-500",width:18})}),withCloseButton:!0,title:h("report.scoreCard.modal.title",{product:l}),description:h("report.scoreCard.modal.description",{startDate:formatDate(s),endDate:a?formatDate(a):""}),open:f,setOpen:g,children:b?r.jsx(BodyShimmer,{}):(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-8 grid grid-cols-6 bg-gray/100 px-3 py-2 text-center text-xs font-semibold sm:text-sm ",children:[r.jsx("p",{children:h("report.scoreCard.modal.parameter")}),r.jsx("p",{children:h("report.scoreCard.modal.unit")}),r.jsx("p",{children:h("report.scoreCard.modal.upstream")}),r.jsx("p",{children:h("report.scoreCard.modal.core")}),r.jsx("p",{children:h("report.scoreCard.modal.downstream")}),r.jsx("p",{children:h("report.scoreCard.modal.total")})]}),r.jsx(u.UQ,{type:"single",collapsible:!0,defaultValue:P,children:w?.map(({categoryName:e,kpis:t})=>r.jsxs(u.Qd,{value:e,className:"w-full",children:[r.jsx(u.o4,{className:"rounded-md bg-gradient-secondary px-3 py-2 text-xs text-white",children:r.jsx("p",{children:h(`kpiCategory.${e}`)})}),r.jsx(u.vF,{children:r.jsx("div",{className:"flex flex-col gap-y-2",children:t.map((e,l)=>r.jsxs("div",{className:p.cn("grid grid-cols-6 px-3 py-2 text-center text-xs text-gray/500",l!==t.length-1&&"border-b-[1px] border-dashed"),children:[r.jsx("p",{children:x.i(e.kpiName,T)}),r.jsx("p",{children:e.unit}),r.jsx("p",{children:e.totals.upstream}),r.jsx("p",{children:e.totals.core}),r.jsx("p",{children:"0"===e.totals.downstream?h("report.scoreCard.modal.mnd"):e.totals.downstream}),r.jsx("p",{children:e.totals.totalValue})]},`${e.unit} - ${l}`))})})]},e))}),(0,r.jsxs)("p",{className:"mt-4 text-xs text-gray/500",children:["*",h("report.scoreCard.modal.mndFooter")]})]})})};s()}catch(e){s(e)}})},547:(e,t,l)=>{l.a(e,async(e,s)=>{try{l.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=l(997),i=l(6689),a=l(3260),n=l(4384),o=l.n(n),c=l(5564),d=l(2205),x=l.n(d),p=l(7277),m=l(503),h=l(4271),u=l(857),y=l(9276),f=l(4235),g=l(40),j=l(6531),w=l(4363),T=l(2171),P=e([h,y,g]);[h,y,g]=P.then?(await P)():P;let __WEBPACK_DEFAULT_EXPORT__=e=>{let[t,l]=(0,i.useState)(0),[s,n]=(0,i.useState)(10),[d,P]=(0,i.useState)(e),b=(0,m.useTranslations)(),S=(0,m.useLocale)(),C=(0,j.Z)(d,500);(0,w.G)([{name:"query",value:C}]);let{isLoading:v,data:D}=h.h.report.getProductScore.useQuery({pageIndex:t,pageSize:s,searchQuery:C,locale:S},{refetchOnWindowFocus:!1}),downloadPdf=async e=>{let t=(0,a.pdf)(e);t.updateContainer(e);let l=await t.toBlob();x()(l,"tarjeta-ambiental.pdf")},{mutateAsync:V}=h.h.download.downloadScorecardPdf.useMutation({async onSuccess(e){let t=r.jsx(f.ZP,{productCampaignsToShow:B,activityData:e});await downloadPdf(t)},onError:()=>(0,T.Am)({title:b("errors.downloadPdfError")})}),[B,_]=(0,i.useState)(void 0),handlePdfDownload=async(e,t,l)=>{_(l),await V({productId:e,organizationCampaignId:t})},q=D?.productCampaigns.map(e=>({...e,productCpcId:e.product.cpcId,productCpcName:e.product.cpcName,productId:e.product.id,product:u.i(e.product.name,S),productInSpanish:u.i(e.product.name,"es"),functionalUnit:"1.00 kg",campaign:null!==e.endDate?`${o()(e.startDate,"LLLL.yy",{locale:"es"===S?c.es:c.enUS})} - ${o()(e.endDate,"LLLL.yy",{locale:"es"===S?c.es:c.enUS})}`:void 0}))??[],I=[{accessorKey:"product",header:()=>r.jsx("p",{className:"text-center",children:b("report.scoreCard.tableTitles.product")}),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx("p",{children:e.original.product})})},{accessorKey:"campaign",header:()=>r.jsx("p",{className:"text-center",children:b("report.scoreCard.tableTitles.campaign")}),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx("p",{children:e.original.campaign})})},{accessorKey:"functionalUnit",header:()=>r.jsx("p",{className:"text-center",children:b("report.scoreCard.tableTitles.functionalUnit")}),cell:({row:e})=>r.jsx("div",{className:"flex justify-center",children:r.jsx("p",{children:e.original.functionalUnit})})},{accessorKey:"actions",enableColumnFilter:!0,enableGlobalFilter:!0,header:()=>r.jsx("p",{className:"text-center",children:b("report.scoreCard.tableTitles.actions")}),cell:({row:e})=>(0,r.jsxs)("div",{className:"flex justify-center",children:[r.jsx(g.Z,{startDate:e.original.startDate,productName:e.original.product,endDate:e.original.endDate,organizationCampaignId:e.original.organizationCampaignId,productId:e.original.productId}),r.jsx(y.z,{variant:"ghost",onClick:async()=>await handlePdfDownload(e.original.productId,e.original.organizationCampaignId,e.original),children:r.jsx(p.Z,{className:"text-slate-500",width:18})})]})}];return{productCampaignsToShow:q,pageDataLoading:v,productScoreTableColumns:I,pagination:{pageIndex:t,pageSize:s,setPageIndex:l,setPageSize:n,total:D?.total??0},filter:{query:d,setQuery:P}}};s()}catch(e){s(e)}})},1711:(e,t,l)=>{l.a(e,async(e,s)=>{try{l.r(t),l.d(t,{default:()=>h,getServerSideProps:()=>getServerSideProps});var r=l(997);l(6689);var i=l(503),a=l(2948),n=l(9644),o=l(4032),c=l(1477),d=l(6697),x=l(547),p=l(2836),m=e([o,c,d,x,p]);[o,c,d,x,p]=m.then?(await m)():m;let ProductScorePage=({initialQuery:e})=>r.jsx(r.Fragment,{children:r.jsx(ProductScoreTable,{tableKey:"productScore",initialQuery:e})}),ProductScoreTable=({tableKey:e,initialQuery:t})=>{let{productCampaignsToShow:l,pageDataLoading:s,productScoreTableColumns:a,pagination:d,filter:p}=(0,x.Z)(t),m=(0,i.useTranslations)();return r.jsx("div",{className:"mt-7 h-full w-full text-xs text-gray/600",children:r.jsx(o.w,{columns:a,isLoading:s,data:l??[],enablePagination:!0,manualPagination:d,tableKey:e,customHeader:r.jsx(n.Z,{filter:r.jsx("div",{className:"p-4 pt-0",children:r.jsx(c.Z,{searchPlaceholder:m("report.scoreCard.searchPlaceholder"),queryFilter:{setFilter:p.setQuery,filter:p.query}})})})})})};ProductScorePage.getLayout=e=>r.jsx(d.Z,{titleKey:"productScore",children:e});let getServerSideProps=async e=>{let t=await (0,p.x)(e),{query:l}=e.query;return await t.report.getProductScore.prefetch({searchQuery:l?.toString()}),{props:{trpcState:t.dehydrate(),messages:await (0,a.E)(e.locale),initialQuery:l?.toString()??""}}},h=ProductScorePage;s()}catch(e){s(e)}})},1841:e=>{e.exports=require("@aws-sdk/client-s3")},4298:e=>{e.exports=require("@aws-sdk/client-ses")},3303:e=>{e.exports=require("@paralleldrive/cuid2")},3524:e=>{e.exports=require("@prisma/client")},7620:e=>{e.exports=require("@radix-ui/react-avatar")},3363:e=>{e.exports=require("@radix-ui/react-dialog")},8532:e=>{e.exports=require("@radix-ui/react-dropdown-menu")},4752:e=>{e.exports=require("@radix-ui/react-popover")},4034:e=>{e.exports=require("@radix-ui/react-select")},2479:e=>{e.exports=require("@radix-ui/react-toast")},3260:e=>{e.exports=require("@react-pdf/renderer")},8432:e=>{e.exports=require("bcryptjs")},8103:e=>{e.exports=require("clsx")},4384:e=>{e.exports=require("date-fns/format")},5564:e=>{e.exports=require("date-fns/locale")},2205:e=>{e.exports=require("file-saver")},9344:e=>{e.exports=require("jsonwebtoken")},3227:e=>{e.exports=require("next-auth")},7449:e=>{e.exports=require("next-auth/providers/credentials")},1649:e=>{e.exports=require("next-auth/react")},503:e=>{e.exports=require("next-intl")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},5184:e=>{e.exports=require("nodemailer")},9819:e=>{e.exports=require("querystring")},6689:e=>{e.exports=require("react")},8261:e=>{e.exports=require("react-day-picker")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},72:e=>{e.exports=require("superjson")},1656:e=>{e.exports=import("@hookform/resolvers/zod")},7412:e=>{e.exports=import("@radix-ui/react-accordion")},49:e=>{e.exports=import("@radix-ui/react-label")},307:e=>{e.exports=import("@radix-ui/react-scroll-area")},7717:e=>{e.exports=import("@react-email/components")},846:e=>{e.exports=import("@react-email/font")},4116:e=>{e.exports=import("@react-email/head")},8816:e=>{e.exports=import("@react-email/render")},3594:e=>{e.exports=import("@t3-oss/env-core")},6206:e=>{e.exports=import("@t3-oss/env-nextjs")},6869:e=>{e.exports=import("@tanstack/react-table")},272:e=>{e.exports=import("@trpc/client")},7455:e=>{e.exports=import("@trpc/next")},5468:e=>{e.exports=import("@trpc/react-query/server")},2937:e=>{e.exports=import("@trpc/server")},6926:e=>{e.exports=import("class-variance-authority")},5641:e=>{e.exports=import("react-hook-form")},8097:e=>{e.exports=import("tailwind-merge")},9926:e=>{e.exports=import("zod")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),l=t.X(0,[1938,8724,7457,5632,5487,9244,6983,8746,4801,2876,1172,3833,2836,2863,4429,1477,9088],()=>__webpack_exec__(9046));module.exports=l})();