"use strict";(()=>{var e={};e.id=5089,e.ids=[5089,2888,660],e.modules={2591:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>f,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>d,reportWebVitals:()=>h,routeModule:()=>y,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>S});var o=t(8877),a=t(4591),i=t(6021),n=t(1938),c=t.n(n),u=t(4801),p=t(6337),l=e([u,p]);[u,p]=l.then?(await l)():l;let m=(0,i.l)(p,"default"),d=(0,i.l)(p,"getStaticProps"),x=(0,i.l)(p,"getStaticPaths"),g=(0,i.l)(p,"getServerSideProps"),f=(0,i.l)(p,"config"),h=(0,i.l)(p,"reportWebVitals"),S=(0,i.l)(p,"unstable_getStaticProps"),w=(0,i.l)(p,"unstable_getStaticPaths"),b=(0,i.l)(p,"unstable_getStaticParams"),P=(0,i.l)(p,"unstable_getServerProps"),v=(0,i.l)(p,"unstable_getServerSideProps"),y=new o.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/complete-signup",pathname:"/complete-signup",bundlePath:"",filename:""},components:{App:u.default,Document:c()},userland:p});s()}catch(e){s(e)}})},6337:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>b,getServerSideProps:()=>getServerSideProps});var o=t(997),a=t(5632),i=t(1656),n=t(1649),c=t(503),u=t(5641),p=t(9926),l=t(4271),m=t(8521),d=t(2948),x=t(9276),g=t(1267),f=t(5986),h=t(7905),S=t(2171),w=e([i,u,p,l,x,g,f]);[i,u,p,l,x,g,f]=w.then?(await w)():w;let CompleteSignup=()=>{let e=(0,c.useTranslations)(),r=p.default.object({password:p.default.string().min(1,e("errors.required")).min(8,e("errors.min",{min:"8",name:e("auth.confirmAccount.password")})),confirmPassword:p.default.string().min(1,e("errors.required")).min(8,e("errors.min",{min:"8",name:e("auth.confirmAccount.confirmPassword")}))}).refine(e=>e.password===e.confirmPassword,{message:e("errors.passwordMatchError"),path:["confirmPassword"]}).refine(e=>RegExp(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*$/).test(e.password),{message:e("auth.confirmAccount.passwordFormatError"),path:["password"]}),{register:t,handleSubmit:s,formState:{errors:d}}=(0,u.useForm)({resolver:(0,i.zodResolver)(r)}),h=(0,a.useRouter)(),{update:w}=(0,n.useSession)(),{mutate:b,isLoading:P}=l.h.auth.confirmAccount.useMutation({onError:()=>{(0,S.Am)({variant:"destructive",title:e("auth.confirmAccount.error")})},onSuccess:async()=>{await w(),(0,S.Am)({title:e("auth.confirmAccount.success")}),await h.replace(m.H4)}});return(0,o.jsxs)("div",{className:"flex h-full flex-col justify-center",children:[o.jsx(g.Z,{className:"mb-4 text-5xl",weight:"extrabold",children:e("auth.confirmAccount.title")}),o.jsx("h4",{className:"mb-10 text-justify text-sm font-bold text-gray/600",children:e("auth.confirmAccount.subtitle")}),(0,o.jsxs)("form",{className:"flex flex-col",onSubmit:s(e=>{b({newPassword:e.password})}),children:[o.jsx(f.Z,{type:"password",withLabelText:e("auth.confirmAccount.password"),error:d.password?.message,...t("password")}),o.jsx(f.Z,{type:"password",withLabelText:e("auth.confirmAccount.confirmPassword"),className:"mb-8",error:d.confirmPassword?.message,...t("confirmPassword")}),o.jsx(x.z,{type:"submit",loading:P,variant:"secondary-gradient",size:"lg",children:e("auth.confirmAccount.submit")})]})]})};CompleteSignup.getLayout=e=>o.jsx(h.Z,{children:e});let getServerSideProps=async({locale:e})=>({props:{messages:await (0,d.E)(e)}}),b=CompleteSignup;s()}catch(e){s(e)}})},8521:(e,r,t)=>{t.d(r,{H4:()=>s,KS:()=>l,KX:()=>x,L6:()=>a,M$:()=>m,Sd:()=>o,X3:()=>c,_R:()=>n,pj:()=>d,ql:()=>u,qy:()=>p,vd:()=>i});let s="/sign-in",o="/",a="/settings",i="/monitor",n="/analyze",c="/report",u="/summary-by-establishment",p="/summary-by-product",l="/performance",m="/initiative-management",d="/eco-score",x="/product-score"},2479:e=>{e.exports=require("@radix-ui/react-toast")},8103:e=>{e.exports=require("clsx")},1649:e=>{e.exports=require("next-auth/react")},503:e=>{e.exports=require("next-intl")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},72:e=>{e.exports=require("superjson")},1656:e=>{e.exports=import("@hookform/resolvers/zod")},272:e=>{e.exports=import("@trpc/client")},7455:e=>{e.exports=import("@trpc/next")},6926:e=>{e.exports=import("class-variance-authority")},5641:e=>{e.exports=import("react-hook-form")},8097:e=>{e.exports=import("tailwind-merge")},9926:e=>{e.exports=import("zod")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[1938,8724,7457,5632,5487,9244,4801,2876,2863,3752],()=>__webpack_exec__(2591));module.exports=t})();